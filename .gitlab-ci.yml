stages:
  - file-check


ai-file-check:
  stage: file-check
  trigger:
    include: ai/.gitlab-ai-ci.yml
  rules:
    - if: '$CI_COMMIT_BRANCH == "develop" || $CI_COMMIT_BRANCH == "master"'
      changes:
        - ai/src/app/resources/*


fe-file-check:
  stage: file-check
  trigger:
    include: frontend/.gitlab-fe-ci.yml
    strategy: depend
  rules:
    - if: '$CI_COMMIT_BRANCH'
      changes:
        - frontend/**/*
      exists:
        - frontend/Dockerfile


be-file-check:
  stage: file-check
  trigger:
    include: backend/.gitlab-be-ci.yml
    strategy: depend
  rules:
    - if: '$CI_COMMIT_BRANCH'
      changes:
        - backend/**/*
      exists:
        - backend/Dockerfile