stages:
  - trigger-services

trigger-ai:
  stage: trigger-services
  trigger:
    include: cicd_test/AI/.gitlab-ai-ci.yml
    strategy: depend
  rules:
    - if: '$CI_COMMIT_BRANCH'
      changes:
        - cicd_test/AI/**/*
      exists:
        - cicd_test/AI/Dockerfile

trigger-be:
  stage: trigger-services
  trigger:
    include: cicd_test/BE/.gitlab-be-ci.yml
    strategy: depend
  rules:
    - if: '$CI_COMMIT_BRANCH'
      changes:
        - cicd_test/BE/**/*
      exists:
        - cicd_test/BE/Dockerfile

trigger-fe:
  stage: trigger-services
  trigger:
    include: cicd_test/FE/.gitlab-fe-ci.yml
    strategy: depend
  rules:
    - if: '$CI_COMMIT_BRANCH'
      changes:
        - cicd_test/FE/**/*
      exists:
        - cicd_test/FE/Dockerfile
