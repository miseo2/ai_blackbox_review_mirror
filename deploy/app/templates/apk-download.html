{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-md-10 offset-md-1 col-lg-8 offset-lg-2">
        <!-- 다운로드 카드 -->
        <div class="card shadow-sm mb-4">
            <div class="card-body text-center p-5">
                <div class="download-icon-container mb-4">
                    <i class="fab fa-android fa-4x"></i>
                </div>
                <h3 class="mb-3 fw-bold">Android APK 다운로드</h3>
                <p class="lead mb-4">
                    최신 개발 버전의 Android APK를 다운로드하여 테스트할 수 있습니다.
                    항상 최신 기능과 버그 수정사항이 반영되어 있습니다.
                </p>
                <div class="alert alert-info mb-4">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-info-circle me-3 fa-2x text-info"></i>
                        <div class="text-start">
                            <strong>설치 전 확인사항</strong>
                            <p class="mb-0">다운로드 후 설치할 때 '알 수 없는 출처' 설치를 허용해야 할 수 있습니다.</p>
                        </div>
                    </div>
                </div>
                <div class="download-btn-container">
                    <a href="/deploy/apk-download/download" class="btn btn-success btn-lg px-5">
                        <i class="fas fa-download me-2"></i> develop.apk 다운로드
                    </a>
                    <div class="mt-3 text-muted">
                        <small>버전 정보: 최신 개발 버전</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- 설치 안내 카드 -->
        <div class="card shadow-sm mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">
                    <i class="fas fa-info-circle me-2 text-info"></i>설치 안내
                </h5>
            </div>
            <div class="card-body">
                <div class="installation-guide">
                    <ol class="list-group list-group-numbered">
                        <li class="list-group-item d-flex">
                            <div>
                                <strong>APK 다운로드</strong>
                                <p class="mb-0 text-muted">위 버튼을 클릭하여 APK 파일을 다운로드합니다.</p>
                            </div>
                        </li>
                        <li class="list-group-item d-flex">
                            <div>
                                <strong>알 수 없는 출처 허용</strong>
                                <p class="mb-0 text-muted">
                                    <span class="d-block mb-2">설정 → 보안 → 알 수 없는 출처에서 설치 허용을 활성화합니다.</span>
                                    <img src="https://www.androidpolice.com/wp-content/uploads/2021/07/18/unknown-sources-android-12-beta-3-1.png" alt="알 수 없는 출처 설정" class="img-fluid rounded" style="max-height: 150px;">
                                </p>
                            </div>
                        </li>
                        <li class="list-group-item d-flex">
                            <div>
                                <strong>APK 설치</strong>
                                <p class="mb-0 text-muted">다운로드된 APK 파일을 열어 설치합니다.</p>
                            </div>
                        </li>
                        <li class="list-group-item d-flex">
                            <div>
                                <strong>앱 실행</strong>
                                <p class="mb-0 text-muted">설치가 완료되면 앱을 실행하여 테스트합니다.</p>
                            </div>
                        </li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- 문제 해결 카드 -->
        <div class="card shadow-sm">
            <div class="card-header">
                <h5 class="card-title mb-0">
                    <i class="fas fa-question-circle me-2 text-warning"></i>문제 해결
                </h5>
            </div>
            <div class="card-body">
                <div class="accordion" id="troubleshooting">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                설치가 차단된 경우
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#troubleshooting">
                            <div class="accordion-body">
                                Android 기기의 보안 설정에서 '알 수 없는 출처에서 설치' 옵션이 활성화되어 있는지 확인하세요. 
                                이 옵션은 기기 설정의 보안 섹션에서 찾을 수 있습니다.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                APK 파일을 열 수 없는 경우
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#troubleshooting">
                            <div class="accordion-body">
                                파일 관리자 앱을 사용하여 다운로드 폴더로 이동한 다음 APK 파일을 찾아 직접 탭하여 열어보세요.
                                또는 다시 다운로드를 시도하거나 다른 브라우저를 사용해보세요.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .download-icon-container {
        display: inline-block;
        padding: 20px;
        border-radius: 50%;
        background: linear-gradient(135deg, rgba(56, 176, 0, 0.1), rgba(56, 176, 0, 0.2));
    }
    
    .download-btn-container {
        position: relative;
        z-index: 1;
    }
    
    .download-btn-container::before {
        content: '';
        position: absolute;
        width: 150px;
        height: 150px;
        background: radial-gradient(circle, rgba(56, 176, 0, 0.1) 0%, rgba(255, 255, 255, 0) 70%);
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: -1;
        border-radius: 50%;
    }
    
    .accordion-button:not(.collapsed) {
        background-color: rgba(67, 97, 238, 0.1);
        color: var(--primary-color);
    }
    
    .accordion-button:focus {
        box-shadow: none;
        border-color: rgba(67, 97, 238, 0.1);
    }
</style>
{% endblock %} 